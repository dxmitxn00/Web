<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>연습문제01_가위바위보</title>
<style type="text/css">
	#title{
		width: 450px;
		height: 30px;
		margin: 5px;
		background-color: powderblue;
		cursor: pointer;
		line-height: 30px;
		text-align: center;
	}
	#content{
		width: 450px;
		height: 200px;
		margin: 5px;
		background-color: lightgray;
	}
	span, img{
		margin: 5px;
	}
</style>
</head>
<body>
	
	<div id="title">가 위 바 위 보!</div>
	<div id="content">
		<sqpn>COM</sqpn>
		<img id="com"alt="주먹" src="images/rock.png">
		<span>ME</span>
		<img id="me"alt="주먹" src="images/rock.png">
	</div>
	
	<script type="text/javascript">
		document.querySelector('#title').onclick = function(){
			if(this.firstChild.nodeValue == '가 위 바 위 보!'){
				this.firstChild.nodeValue = '결 과 는 ?!';
				this.style.background = 'cadetblue';
				this.style.color = 'white';
				
				play();
			}
			else{
				this.firstChild.nodeValue = '가 위 바 위 보!';
				this.style.background = 'powderblue';
				this.style.color = 'black';
				
				stop();
			}
		}
		
		var imgArray = new Array();
		imgArray[0]="images/rock.png";
		imgArray[1]="images/scissors.png";
		imgArray[2]="images/paper.png";		
		
		function play(){
			document.querySelector('#com').src='images/가위바위보.gif';
			document.querySelector('#me').src='images/가위바위보.gif';
		}
		
		function stop(){
			var comNum=Math.floor(Math.random()*3);
			var meNum=Math.floor(Math.random()*3);
			
			document.querySelector('#com').src=imgArray[comNum];
			document.querySelector('#me').src=imgArray[meNum];
			
			setTimeout(function(){
				if(meNum - comNum == -1 || meNum - comNum == 2){
					alert('승리!');
				}
				else if(comNum == meNum){
					alert('무승부');
				}
				else{
					alert('패배..');
				}
			},1000);
		}
	</script>

</body>
</html>